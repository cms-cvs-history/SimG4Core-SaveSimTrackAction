process CaloTest  = {

	service = MessageLogger	{
		untracked vstring destinations = {"cout"} 
		untracked vstring categories = { "EcalSim", "HcalSim", "SaveSimTrack"}
		untracked vstring debugModules = { "*" }
		untracked PSet cout = { untracked string threshold = "INFO"
			untracked PSet default = { untracked int32 limit = 0 } 
			untracked PSet EcalSim = { untracked int32 limit = -1 }
			untracked PSet HcalSim = { untracked int32 limit = -1 }
			untracked PSet SaveSimTrack = { untracked int32 limit = -1 }
		}
	}

	include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

	untracked PSet maxEvents = {untracked int32 input = 20}
	source = FlatRandomEGunSource  {
		untracked PSet PGunParameters =   {
			# you can request more than 1 particle
			#untracked vint32  PartID = {211,11}
			untracked vint32 PartID = {211}
			untracked double MinEta = -3.5
			untracked double MaxEta =  3.5
			untracked double MinPhi = -3.14159265358979323846 
			untracked double MaxPhi =  3.14159265358979323846
			untracked double MinE   =  9.99
			untracked double MaxE   = 10.01
		}
		untracked int32 Verbosity = 0
	}

        service = Timing {}

	service = RandomNumberGeneratorService {
		untracked uint32 sourceSeed = 135799753
		PSet moduleSeeds =
		{
			untracked uint32 VtxSmeared = 123456789
			untracked uint32 g4SimHits = 9876
		}
	}

	include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"
	replace VtxSmeared.SigmaX = 0.00001
	replace VtxSmeared.SigmaY = 0.00001
	replace VtxSmeared.SigmaZ = 0.00001

	#Magnetic Field 		
        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

	#Geometry
	include "SimG4Core/SaveSimTrackAction/test/testGeometryXML.cfi"

	module USER = PoolOutputModule {untracked string fileName ="simevent.root"} 

	include "SimG4Core/Application/data/g4SimHits.cfi"
	replace common_heavy_suppression.SuppressHeavy = true
	replace g4SimHits.UseMagneticField = false
	replace g4SimHits.Physics.type = "SimG4Core/Physics/QGSP_EMV"
	replace g4SimHits.Watchers = {
                    {string type              = "SaveSimTrack"
                     untracked int32  MinimumPDGCode  = 2212
                     untracked int32  MaximumPDGCode  = 2212
		    }
                }

	path p1 = { VtxSmeared, g4SimHits }
	endpath outpath = { USER }

}		
